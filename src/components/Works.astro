---
import Work from "@/components/Work.astro";
import { getWorks } from "@/library/microcms";

const response = await getWorks();
---

<ul class="works">
  {
    response.contents.map((work) => (
      <Work
        title={work.title}
        role={work.role}
        comment={work.comment}
        image={work.image.url}
        href={work.url}
      />
    ))
  }
</ul>

<style lang="scss">
  @use "@/styles/variables.scss" as *;

  .works {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(1, minmax(0, 1fr));
    margin: 0;

    @include mq(md) {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    @include mq(xl) {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    @include mq(2xl) {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
  }
</style>
